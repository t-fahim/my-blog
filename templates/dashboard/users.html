{% extends "base.html" %}

{% block content %}
<!-- -->
<div class="row">
    <!-- left side bar -->
    <!-- load side bar here -->
    {% include "dashboard/sidebar.html" %}

    <!-- right side content-->
    <div class="col-md-10">
      {% if perms.auth.view_user %}
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h4 class="mb-0">All Users</h4>
        <a href="{% url 'add_user' %}" class="btn btn-dark text-light">Add User</a>
      </div>

      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col"></th>
            <th scope="col" class="text-center">Full Name</th>
            <th scope="col" class="text-center">Username</th>
            <th scope="col" class="text-center">Email</th>
            <th scope="col" class="text-center">Active</th>
            <th scope="col" class="text-center">Staff</th>
            <th scope="col" class="text-center">Supperuser</th>
            <th scope="col" class="text-center">Action</th>
          </tr>
        </thead>
        <tbody>
        {% for user in users %}
          <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td class="text-center">{{ user.first_name }} {{user.last_name }}</td>
            <td class="text-center">{{user.username }}</td>
            <td class="text-center">{{ user.email }}</td>
            <td class="text-center">{% if user.is_active %}<i class="fa-solid fa-check"></i>{% else %}<i class="fa-solid fa-square-xmark"></i>{% endif %}</td>
            <td class="text-center">{% if user.is_staff %}<i class="fa-solid fa-check"></i>{% else %}<i class="fa-solid fa-square-xmark"></i>{% endif %}</td>
            <td class="text-center">{% if user.is_superuser %}<i class="fa-solid fa-check"></i>{% else %}<i class="fa-solid fa-square-xmark"></i>{% endif %}</td>           
            <td class="text-center">
              <a href="{% url 'edit_user' user.id %}"><i class="fa-solid fa-pen-to-square"></i></a>&nbsp&nbsp
              <a href="{% url 'delete_user' user.id %}"><i class="fa-solid fa-trash text-danger"></i></a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
      <p class="blog-post-title text-muted text-center">
        You do not have permission !!!
      </p>
    {% endif %}
  </div>
</div>

{% endblock content %}